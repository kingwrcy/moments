# æç®€æœ‹å‹åœˆ
<!-- ALL-CONTRIBUTORS-BADGE:START - Do not remove or modify this section -->
[![All Contributors](https://img.shields.io/badge/all_contributors-1-orange.svg?style=flat-square)](#contributors-)
<!-- ALL-CONTRIBUTORS-BADGE:END -->

[![docker pull](https://img.shields.io/badge/moments-æ›´æ–°è®°å½•-blue)](https://github.com/kingwrcy/moments/blob/master/release.md)
[![docker pull](https://img.shields.io/badge/moments-å¸¸è§é—®é¢˜-blue)](https://github.com/kingwrcy/moments/blob/master/q&a.md)
![moments github action status](https://img.shields.io/github/actions/workflow/status/kingwrcy/moments/deploy.yml)
[![docker pull](https://img.shields.io/docker/pulls/kingwrcy/moments)](https://hub.docker.com/repository/docker/kingwrcy/moments)
[![docker pull](https://img.shields.io/badge/Telegram-group-blue)](https://t.me/simple_moments)
[![docker pull](https://img.shields.io/badge/1panel-æœ¬åœ°å®‰è£…-blue)](https://ono.ee/?p=1713750155422)



## è´¡çŒ®è€…

<a href="https://github.com/kingwrcy/moments/graphs/contributors">
  <img src="https://contrib.rocks/image?repo=kingwrcy/moments" />
</a>


## S3é…ç½®æ•™ç¨‹

[![docker pull](https://img.shields.io/badge/CF-R2é…ç½®-blue)](https://jerry.mblog.club/moments-r2-config)
[![docker pull](https://img.shields.io/badge/é˜¿é‡Œäº‘-OSSé…ç½®-blue)](https://jerry.mblog.club/moments-config-aliyun)


S3å…¼å®¹çš„å¯¹è±¡å­˜å‚¨é…ç½®æ–¹æ³•(ä¸æ˜¯å¿…é¡»çš„,åªæœ‰ä½ éœ€è¦æŠŠå›¾ç‰‡å­˜å‚¨åˆ°å¯¹è±¡å­˜å‚¨æ—¶æ‰éœ€è¦é…ç½®,é»˜è®¤å›¾ç‰‡å­˜åœ¨æœ¬åœ°,å¯å¤‡ä»½):


åˆæ‹äº‘ ä¸æ”¯æŒ[ä½¿ç”¨é¢„ç­¾å URL ä¸Šä¼ å¯¹è±¡](https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/PresignedUrlUploadObject.html),æ‰€ä»¥ä¸æ”¯æŒåˆæ‹äº‘.


[åœ¨çº¿DEMO](https://m.mblog.club),æ¬¢è¿ä½“éªŒ.ç›®å‰ä¸æ”¯æŒå¤šç”¨æˆ·,å¤šç”¨æˆ·ç‰ˆæœ¬å·²ç”±[RandallAnjie](https://github.com/RandallAnjie)è‡ªè¡Œå®ç°äº†,æœ‰éœ€è¦çš„å¯ä»¥å»[çœ‹çœ‹](https://moments.randallanjie.com/)

[1panelæœ¬åœ°å®‰è£…](https://ono.ee/?p=1713750155422),æ„Ÿè°¢[åŒ…å­å”](https://ono.ee)æä¾›çš„æ•™ç¨‹.

- æ”¯æŒåŒ¿åè¯„è®º/ç‚¹èµ
- æ”¯æŒå¼•å…¥ç½‘æ˜“äº‘éŸ³ä¹,bç«™è§†é¢‘,æ’å…¥é“¾æ¥ç­‰
- æ”¯æŒè‡ªå®šä¹‰å¤´å›¾,ä¸ªäººå¤´åƒ,ç½‘ç«™æ ‡é¢˜ç­‰
- æ”¯æŒä¸Šä¼ å›¾ç‰‡åˆ°S3å…¼å®¹çš„äº‘å­˜å‚¨,æ”¯æŒæœ¬åœ°å­˜å‚¨
- é€‚é…æ‰‹æœº
- æ”¯æŒæš—é»‘æ¨¡å¼
- æ•°æ®åº“é‡‡ç”¨sqlite,å¯éšæ—¶å¤‡ä»½
- æ”¯æŒå¼•å…¥è±†ç“£è¯»ä¹¦/è±†ç“£ç”µå½±,æ ·å¼æ¥æºäº[è¿™é‡Œ](https://github.com/TankNee/hexo-douban-card/blob/master/templates/assets/style.css)

æœ‰å…¶ä»–éœ€æ±‚æ¬¢è¿æissues.

é»˜è®¤ç”¨æˆ·åå¯†ç :`admin/a123456`,ç™»å½•è¿›å»ååå°å¯ä»¥è‡ªå·±ä¿®æ”¹å¯†ç .

## è‡ªå®šä¹‰å…¶ä»–é…ç½®

æ‰“å¼€[é…ç½®ç®¡ç†å™¨](https://mconfig.mblog.club),é…ç½®å¥½åç‚¹å‡»ä¸€é”®å¤åˆ¶é…ç½®,ç„¶åè¿›å…¥momentsåå°æ‹‰åˆ°æœ€åº•ä¸‹,å¯¼å…¥è¿›å»,ä¿å­˜å³å¯ç”Ÿæ•ˆ.


## ä½¿ç”¨google recaptchaV3(å¯é€‰)

è‡ªè¡Œå»[google recaptchaV3 admin console](https://www.google.com/recaptcha/admin/create)å¼€é€š,æ¯æœˆ100ä¸‡æ¬¡å…è´¹è°ƒç”¨.
å¼€é€šæˆåŠŸåå¤åˆ¶ç½‘ç«™å¯†é’¥å’Œé€šä¿¡å¯†é’¥,å¡«å…¥ä¸Šæ–¹çš„ç¯å¢ƒå˜é‡å¯¹åº”çš„keyé‡Œé¢.


## Dockerå¯åŠ¨
Dockeré¦–æ¬¡å¯åŠ¨çœ‹[è¿™é‡Œ](https://github.com/kingwrcy/moments/blob/master/docker-start.sh)

Dockeræ›´æ–°çœ‹[è¿™é‡Œ](https://github.com/kingwrcy/moments/blob/master/docker-update.sh)

## Docker Composeå¯åŠ¨
Docker Composeå¯åŠ¨çœ‹[è¿™é‡Œ](https://github.com/kingwrcy/moments/blob/master/docker-compose.yml)

## æºç ç¼–è¯‘å¯åŠ¨

é¦–å…ˆè®¾ç½®ç¯å¢ƒå˜é‡:

```
-- sqliteæ•°æ®åº“ä½ç½®
DATABASE_URL="file:/app/data/db.sqlite" 
-- æœ¬åœ°ä¸Šä¼ çš„æ–‡ä»¶ç›®å½•
UPLOAD_DIR="/app/data/upload"
-- é…ç½®æ–‡ä»¶ç›®å½•(å¯ä»¥å¤åˆ¶é¡¹ç›®æ ¹ç›®å½•çš„)
CONFIG_FILE=/app/data/config.json
```

æ‰§è¡Œå‘½ä»¤

```
-- å®‰è£…ä¾èµ–
npm install
-- è„šæœ¬è¿ç§»
npx prisma migrate dev
-- æ‰§è¡Œæ„å»º
npm run build
-- é¢„è§ˆ
npm run preview
```

## ç¼–è¾‘SQLITEæ•°æ®åº“

```
# å®¹å™¨å†…éƒ¨æ‰§è¡Œ
npx prisma studio
```

æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤ä¼šåœ¨å®¹å™¨å†…éƒ¨æš´éœ²ä¸€ä¸ª5555ç«¯å£,æš´éœ²åˆ°ä¸»æœºåå¯ä»¥é€šè¿‡ `http://å®¹å™¨IP:5555` è®¿é—®æ•°æ®åº“,ç›´æ¥ä¿®æ”¹/åˆ é™¤/æ–°å¢æ•°æ®.


## é…ç½®S3(å¯é€‰)

ç”±äºä½¿ç”¨äº†[ä½¿ç”¨é¢„ç­¾å URL ä¸Šä¼ å¯¹è±¡](https://docs.aws.amazon.com/zh_cn/AmazonS3/latest/userguide/PresignedUrlUploadObject.html)æ–¹æ¡ˆæ¥ä¸Šä¼ å›¾ç‰‡åˆ°S3,ç®€å•æ¥è¯´å°±æ˜¯å‰ç«¯ç›´æ¥ä¸Šä¼ æ–‡ä»¶åˆ°S3,ä¸ç»è¿‡æœåŠ¡ç«¯.

ä¸æ”¯æŒè¿™ä¸ªé¢„ç­¾åæŠ€æœ¯çš„S3æ— æ³•ä¸Šä¼ ,æ®æˆ‘æ‰€çŸ¥,å·ç§°å…¼å®¹S3çš„äº‘å­˜å‚¨å¤§éƒ¨åˆ†éƒ½æ”¯æŒè¿™ä¸ªç‰¹æ€§.æ¯”å¦‚è…¾è®¯äº‘,ä¸ƒç‰›äº‘,é˜¿é‡Œäº‘ç­‰.

å¦å¤–,è¦æ±‚åœ¨S3ä¸Šé…ç½®è·¨åŸŸ,é…ç½®ä½ å½“å‰çš„åŸŸåèƒ½å¤Ÿè®¿é—®S3çš„èµ„æº,ä¸é…ç½®çš„è¯,æ˜¯æ— æ³•ä½¿ç”¨çš„.

æ¯”å¦‚æˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯[ç¼¤çº·äº‘](https://www.bitiful.com/),é…ç½®å¦‚ä¸‹:

![ç¼¤çº·äº‘](https://yoyo.s3.bitiful.net/2024/04/12/6618b41d6b65c.png?fmt=webp)

## é‡ç½®å¯†ç 

ç›®å‰æ²¡æœ‰åˆ«çš„åŠæ³•é‡ç½®å¯†ç ,åªæœ‰ä¿®æ”¹æ•°æ®åº“.è§[ç¼–è¾‘SQLITEæ•°æ®åº“](https://github.com/kingwrcy/moments?tab=readme-ov-file#%E7%BC%96%E8%BE%91sqlite%E6%95%B0%E6%8D%AE%E5%BA%93).

æˆ–è€…ä»»ä½•èƒ½æ­£å¸¸æ‰“å¼€SQLITEæ•°æ®åº“çš„å·¥å…·éƒ½è¡Œ,æ•°æ®åº“è§å‰é¢çš„ç¯å¢ƒå˜é‡éƒ¨åˆ†.

æ‰“å¼€[bcrypt-generator](https://bcrypt-generator.com/)æˆ–è€…å…¶ä»–ç±»ä¼¼çš„bcryptåœ¨çº¿åŠ å¯†çš„ç½‘ç«™,åŠ å¯†ä½ çš„å¯†ç .

å¤åˆ¶åŠ å¯†åçš„å¯†ç ,ç¼–è¾‘æ•°æ®åº“,æ›´æ–°Userè¡¨pwdå­—æ®µ,æ›´æ–°å®Œåè®°å¾—å…³æ‰5555ç«¯å£çš„æ˜ å°„,æ‰§è¡Œ`npx prisma studio`å‘½ä»¤åœæ­¢5555ç«¯å£.

## æ‰“èµ

å¦‚æœä½ è§‰å¾—è¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©,å¯ä»¥å¯¹æˆ‘æ‰“èµ,æ„Ÿè°¢!

![1713695645770.png](https://yoyo.s3.bitiful.net/2024/04/21/6624eb9a4fd18.png)
## Contributors âœ¨

Thanks goes to these wonderful people ([emoji key](https://allcontributors.org/docs/en/emoji-key)):

<!-- ALL-CONTRIBUTORS-LIST:START - Do not remove or modify this section -->
<!-- prettier-ignore-start -->
<!-- markdownlint-disable -->
<table>
  <tbody>
    <tr>
      <td align="center" valign="top" width="14.28%"><a href="https://github.com/RandallAnjie"><img src="https://avatars.githubusercontent.com/u/84122428?v=4?s=80" width="80px;" alt="Randall"/><br /><sub><b>Randall</b></sub></a><br /><a href="https://github.com/kingwrcy/moments/commits?author=RandallAnjie" title="Code">ğŸ’»</a></td>
    </tr>
  </tbody>
</table>

<!-- markdownlint-restore -->
<!-- prettier-ignore-end -->

<!-- ALL-CONTRIBUTORS-LIST:END -->

This project follows the [all-contributors](https://github.com/all-contributors/all-contributors) specification. Contributions of any kind welcome!